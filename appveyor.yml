version: '{branch}.{build}'

pull_requests:
  do_not_increment_build_number: true

# Only on top of the master branch
branches:
  only:
  - master

environment:
  GRADLE_OPTS: '"-Dorg.gradle.daemon=false"'

init:
# due to Git for Windows, this is most likely set
# setting it at the init level will test for tests relying
# on file bytes
- cmd: git config core.autocrlf true

# assemble the library
build_script:
- cmd: .\gradlew.bat assemble

# run the tests
test_script:
- cmd: .\gradlew.bat test
